'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _bounds = require('../bounds');

var _update = require('./update');

var _update2 = _interopRequireDefault(_update);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class RenderResult {
    constructor(env, updating, bounds) {
        this.env = env;
        this.updating = updating;
        this.bounds = bounds;
    }
    rerender({ alwaysRevalidate = false } = { alwaysRevalidate: false }) {
        let { env, updating } = this;
        let vm = new _update2.default(env, { alwaysRevalidate });
        vm.execute(updating, this);
    }
    parentElement() {
        return this.bounds.parentElement();
    }
    firstNode() {
        return this.bounds.firstNode();
    }
    lastNode() {
        return this.bounds.lastNode();
    }
    opcodes() {
        return this.updating;
    }
    handleException() {
        throw "this should never happen";
    }
    destroy() {
        this.bounds.destroy();
        (0, _bounds.clear)(this.bounds);
    }
}
exports.default = RenderResult;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi92bS9yZW5kZXItcmVzdWx0LmpzIl0sIm5hbWVzIjpbIlJlbmRlclJlc3VsdCIsImNvbnN0cnVjdG9yIiwiZW52IiwidXBkYXRpbmciLCJib3VuZHMiLCJyZXJlbmRlciIsImFsd2F5c1JldmFsaWRhdGUiLCJ2bSIsImV4ZWN1dGUiLCJwYXJlbnRFbGVtZW50IiwiZmlyc3ROb2RlIiwibGFzdE5vZGUiLCJvcGNvZGVzIiwiaGFuZGxlRXhjZXB0aW9uIiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBQ0E7Ozs7OztBQUNlLE1BQU1BLFlBQU4sQ0FBbUI7QUFDOUJDLGdCQUFZQyxHQUFaLEVBQWlCQyxRQUFqQixFQUEyQkMsTUFBM0IsRUFBbUM7QUFDL0IsYUFBS0YsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsYUFBS0MsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxhQUFLQyxNQUFMLEdBQWNBLE1BQWQ7QUFDSDtBQUNEQyxhQUFTLEVBQUVDLG1CQUFtQixLQUFyQixLQUErQixFQUFFQSxrQkFBa0IsS0FBcEIsRUFBeEMsRUFBcUU7QUFDakUsWUFBSSxFQUFFSixHQUFGLEVBQU9DLFFBQVAsS0FBb0IsSUFBeEI7QUFDQSxZQUFJSSxLQUFLLHFCQUFlTCxHQUFmLEVBQW9CLEVBQUVJLGdCQUFGLEVBQXBCLENBQVQ7QUFDQUMsV0FBR0MsT0FBSCxDQUFXTCxRQUFYLEVBQXFCLElBQXJCO0FBQ0g7QUFDRE0sb0JBQWdCO0FBQ1osZUFBTyxLQUFLTCxNQUFMLENBQVlLLGFBQVosRUFBUDtBQUNIO0FBQ0RDLGdCQUFZO0FBQ1IsZUFBTyxLQUFLTixNQUFMLENBQVlNLFNBQVosRUFBUDtBQUNIO0FBQ0RDLGVBQVc7QUFDUCxlQUFPLEtBQUtQLE1BQUwsQ0FBWU8sUUFBWixFQUFQO0FBQ0g7QUFDREMsY0FBVTtBQUNOLGVBQU8sS0FBS1QsUUFBWjtBQUNIO0FBQ0RVLHNCQUFrQjtBQUNkLGNBQU0sMEJBQU47QUFDSDtBQUNEQyxjQUFVO0FBQ04sYUFBS1YsTUFBTCxDQUFZVSxPQUFaO0FBQ0EsMkJBQU0sS0FBS1YsTUFBWDtBQUNIO0FBN0I2QjtrQkFBYkosWSIsImZpbGUiOiJsaWIvdm0vcmVuZGVyLXJlc3VsdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsZWFyIH0gZnJvbSAnLi4vYm91bmRzJztcbmltcG9ydCBVcGRhdGluZ1ZNIGZyb20gJy4vdXBkYXRlJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlclJlc3VsdCB7XG4gICAgY29uc3RydWN0b3IoZW52LCB1cGRhdGluZywgYm91bmRzKSB7XG4gICAgICAgIHRoaXMuZW52ID0gZW52O1xuICAgICAgICB0aGlzLnVwZGF0aW5nID0gdXBkYXRpbmc7XG4gICAgICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xuICAgIH1cbiAgICByZXJlbmRlcih7IGFsd2F5c1JldmFsaWRhdGUgPSBmYWxzZSB9ID0geyBhbHdheXNSZXZhbGlkYXRlOiBmYWxzZSB9KSB7XG4gICAgICAgIGxldCB7IGVudiwgdXBkYXRpbmcgfSA9IHRoaXM7XG4gICAgICAgIGxldCB2bSA9IG5ldyBVcGRhdGluZ1ZNKGVudiwgeyBhbHdheXNSZXZhbGlkYXRlIH0pO1xuICAgICAgICB2bS5leGVjdXRlKHVwZGF0aW5nLCB0aGlzKTtcbiAgICB9XG4gICAgcGFyZW50RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmRzLnBhcmVudEVsZW1lbnQoKTtcbiAgICB9XG4gICAgZmlyc3ROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3VuZHMuZmlyc3ROb2RlKCk7XG4gICAgfVxuICAgIGxhc3ROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3VuZHMubGFzdE5vZGUoKTtcbiAgICB9XG4gICAgb3Bjb2RlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRpbmc7XG4gICAgfVxuICAgIGhhbmRsZUV4Y2VwdGlvbigpIHtcbiAgICAgICAgdGhyb3cgXCJ0aGlzIHNob3VsZCBuZXZlciBoYXBwZW5cIjtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5ib3VuZHMuZGVzdHJveSgpO1xuICAgICAgICBjbGVhcih0aGlzLmJvdW5kcyk7XG4gICAgfVxufSJdfQ==