'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _runtime = require('@glimmer/runtime');

class NodeDOMTreeConstruction extends _runtime.DOMTreeConstruction {
    constructor(doc) {
        super(doc);
    }
    // override to prevent usage of `this.document` until after the constructor
    setupUselessElement() {}
    insertHTMLBefore(parent, reference, html) {
        let prev = reference ? reference.previousSibling : parent.lastChild;
        let raw = this.document.createRawHTMLSection(html);
        parent.insertBefore(raw, reference);
        let first = prev ? prev.nextSibling : parent.firstChild;
        let last = reference ? reference.previousSibling : parent.lastChild;
        return new _runtime.ConcreteBounds(parent, first, last);
    }
    // override to avoid SVG detection/work when in node (this is not needed in SSR)
    createElement(tag) {
        return this.document.createElement(tag);
    }
    // override to avoid namespace shenanigans when in node (this is not needed in SSR)
    setAttribute(element, name, value) {
        element.setAttribute(name, value);
    }
}
exports.default = NodeDOMTreeConstruction;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9ub2RlLWRvbS1oZWxwZXIuanMiXSwibmFtZXMiOlsiTm9kZURPTVRyZWVDb25zdHJ1Y3Rpb24iLCJjb25zdHJ1Y3RvciIsImRvYyIsInNldHVwVXNlbGVzc0VsZW1lbnQiLCJpbnNlcnRIVE1MQmVmb3JlIiwicGFyZW50IiwicmVmZXJlbmNlIiwiaHRtbCIsInByZXYiLCJwcmV2aW91c1NpYmxpbmciLCJsYXN0Q2hpbGQiLCJyYXciLCJkb2N1bWVudCIsImNyZWF0ZVJhd0hUTUxTZWN0aW9uIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3QiLCJuZXh0U2libGluZyIsImZpcnN0Q2hpbGQiLCJsYXN0IiwiY3JlYXRlRWxlbWVudCIsInRhZyIsInNldEF0dHJpYnV0ZSIsImVsZW1lbnQiLCJuYW1lIiwidmFsdWUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNlLE1BQU1BLHVCQUFOLHNDQUEwRDtBQUNyRUMsZ0JBQVlDLEdBQVosRUFBaUI7QUFDYixjQUFNQSxHQUFOO0FBQ0g7QUFDRDtBQUNBQywwQkFBc0IsQ0FBRTtBQUN4QkMscUJBQWlCQyxNQUFqQixFQUF5QkMsU0FBekIsRUFBb0NDLElBQXBDLEVBQTBDO0FBQ3RDLFlBQUlDLE9BQU9GLFlBQVlBLFVBQVVHLGVBQXRCLEdBQXdDSixPQUFPSyxTQUExRDtBQUNBLFlBQUlDLE1BQU0sS0FBS0MsUUFBTCxDQUFjQyxvQkFBZCxDQUFtQ04sSUFBbkMsQ0FBVjtBQUNBRixlQUFPUyxZQUFQLENBQW9CSCxHQUFwQixFQUF5QkwsU0FBekI7QUFDQSxZQUFJUyxRQUFRUCxPQUFPQSxLQUFLUSxXQUFaLEdBQTBCWCxPQUFPWSxVQUE3QztBQUNBLFlBQUlDLE9BQU9aLFlBQVlBLFVBQVVHLGVBQXRCLEdBQXdDSixPQUFPSyxTQUExRDtBQUNBLGVBQU8sNEJBQW1CTCxNQUFuQixFQUEyQlUsS0FBM0IsRUFBa0NHLElBQWxDLENBQVA7QUFDSDtBQUNEO0FBQ0FDLGtCQUFjQyxHQUFkLEVBQW1CO0FBQ2YsZUFBTyxLQUFLUixRQUFMLENBQWNPLGFBQWQsQ0FBNEJDLEdBQTVCLENBQVA7QUFDSDtBQUNEO0FBQ0FDLGlCQUFhQyxPQUFiLEVBQXNCQyxJQUF0QixFQUE0QkMsS0FBNUIsRUFBbUM7QUFDL0JGLGdCQUFRRCxZQUFSLENBQXFCRSxJQUFyQixFQUEyQkMsS0FBM0I7QUFDSDtBQXJCb0U7a0JBQXBEeEIsdUIiLCJmaWxlIjoibGliL25vZGUtZG9tLWhlbHBlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERPTVRyZWVDb25zdHJ1Y3Rpb24sIENvbmNyZXRlQm91bmRzIH0gZnJvbSAnQGdsaW1tZXIvcnVudGltZSc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb2RlRE9NVHJlZUNvbnN0cnVjdGlvbiBleHRlbmRzIERPTVRyZWVDb25zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGRvYykge1xuICAgICAgICBzdXBlcihkb2MpO1xuICAgIH1cbiAgICAvLyBvdmVycmlkZSB0byBwcmV2ZW50IHVzYWdlIG9mIGB0aGlzLmRvY3VtZW50YCB1bnRpbCBhZnRlciB0aGUgY29uc3RydWN0b3JcbiAgICBzZXR1cFVzZWxlc3NFbGVtZW50KCkge31cbiAgICBpbnNlcnRIVE1MQmVmb3JlKHBhcmVudCwgcmVmZXJlbmNlLCBodG1sKSB7XG4gICAgICAgIGxldCBwcmV2ID0gcmVmZXJlbmNlID8gcmVmZXJlbmNlLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGQ7XG4gICAgICAgIGxldCByYXcgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZVJhd0hUTUxTZWN0aW9uKGh0bWwpO1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHJhdywgcmVmZXJlbmNlKTtcbiAgICAgICAgbGV0IGZpcnN0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgbGV0IGxhc3QgPSByZWZlcmVuY2UgPyByZWZlcmVuY2UucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZDtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25jcmV0ZUJvdW5kcyhwYXJlbnQsIGZpcnN0LCBsYXN0KTtcbiAgICB9XG4gICAgLy8gb3ZlcnJpZGUgdG8gYXZvaWQgU1ZHIGRldGVjdGlvbi93b3JrIHdoZW4gaW4gbm9kZSAodGhpcyBpcyBub3QgbmVlZGVkIGluIFNTUilcbiAgICBjcmVhdGVFbGVtZW50KHRhZykge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgfVxuICAgIC8vIG92ZXJyaWRlIHRvIGF2b2lkIG5hbWVzcGFjZSBzaGVuYW5pZ2FucyB3aGVuIGluIG5vZGUgKHRoaXMgaXMgbm90IG5lZWRlZCBpbiBTU1IpXG4gICAgc2V0QXR0cmlidXRlKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9XG59Il19